@using FastyBoxWeb.Data.Enums
@using FastyBoxWeb.Resources
@using Microsoft.Extensions.Localization
@inject IStringLocalizer<SharedResources> Localizer

<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium @GetStatusClasses()">
    <span class="w-2 h-2 rounded-full mr-1.5 @GetDotColor()"></span>
    @GetStatusName()
</span>

@code {
    [Parameter]
    public ForwardRequestStatus Status { get; set; }

    // En Components/StatusBadge.razor, actualiza los métodos GetStatusName, GetStatusClasses y GetDotColor

    private string GetStatusName()
    {
        return Status switch
        {
            ForwardRequestStatus.Draft => Localizer["StatusDraft"],
            ForwardRequestStatus.AwaitingArrival => Localizer["StatusAwaitingArrival"],
            ForwardRequestStatus.ReceivedInWarehouse => Localizer["StatusReceivedInWarehouse"],
            ForwardRequestStatus.InReview => Localizer["StatusInReview"],
            ForwardRequestStatus.DocumentsRequired => Localizer["StatusDocumentsRequired"],
            ForwardRequestStatus.AwaitingPayment => Localizer["StatusAwaitingPayment"],
            ForwardRequestStatus.Processing => Localizer["StatusProcessing"],
            ForwardRequestStatus.InTransitToMexico => Localizer["StatusInTransitToMexico"],
            ForwardRequestStatus.Delivered => Localizer["StatusDelivered"],
            ForwardRequestStatus.Cancelled => Localizer["StatusCancelled"],
            _ => Status.ToString()
        };
    }

    private string GetStatusClasses()
    {
        return Status switch
        {
            ForwardRequestStatus.Draft => "bg-gray-100 text-gray-800",
            ForwardRequestStatus.AwaitingArrival => "bg-yellow-100 text-yellow-800",
            ForwardRequestStatus.ReceivedInWarehouse => "bg-green-100 text-green-800",
            ForwardRequestStatus.InReview => "bg-blue-100 text-blue-800",
            ForwardRequestStatus.DocumentsRequired => "bg-orange-100 text-orange-800",
            ForwardRequestStatus.AwaitingPayment => "bg-red-100 text-red-800",
            ForwardRequestStatus.Processing => "bg-purple-100 text-purple-800",
            ForwardRequestStatus.InTransitToMexico => "bg-indigo-100 text-indigo-800",
            ForwardRequestStatus.Delivered => "bg-green-100 text-green-800",
            ForwardRequestStatus.Cancelled => "bg-red-100 text-red-800",
            _ => "bg-gray-100 text-gray-800"
        };
    }

    private string GetDotColor()
    {
        return Status switch
        {
            ForwardRequestStatus.Draft => "bg-gray-400",
            ForwardRequestStatus.AwaitingArrival => "bg-yellow-500",
            ForwardRequestStatus.ReceivedInWarehouse => "bg-green-500",
            ForwardRequestStatus.InReview => "bg-blue-500",
            ForwardRequestStatus.DocumentsRequired => "bg-orange-500",
            ForwardRequestStatus.AwaitingPayment => "bg-red-500",
            ForwardRequestStatus.Processing => "bg-purple-500",
            ForwardRequestStatus.InTransitToMexico => "bg-indigo-500",
            ForwardRequestStatus.Delivered => "bg-green-500",
            ForwardRequestStatus.Cancelled => "bg-red-500",
            _ => "bg-gray-500"
        };
    }
}