@using FastyBoxWeb.Resources
@using Microsoft.Extensions.Localization
@inject NavigationManager NavigationManager
@inject IStringLocalizer<SharedResources> Localizer

<div class="flex justify-center items-center h-screen">
    <div class="bg-blue-50 border border-blue-200 text-blue-800 rounded-lg p-6 max-w-md">
        <h3 class="text-xl font-semibold mb-2">@Localizer["AuthenticationRequired"]</h3>
        <p class="mb-4">@Localizer["PleaseLoginMessage"]</p>
        <div class="flex justify-center">
            <button @onclick="RedirectToLogin" class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600">
                @Localizer["Login"]
            </button>
        </div>
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        // Redirigir automáticamente
        RedirectToLogin();
    }

    private void RedirectToLogin()
    {
        var returnUrl = Uri.EscapeDataString(NavigationManager.Uri);
        NavigationManager.NavigateTo($"/Identity/Account/Login?returnUrl={returnUrl}", forceLoad: true);
    }
}